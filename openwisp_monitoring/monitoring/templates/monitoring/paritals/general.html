{% load i18n static %}
<h2>{% trans 'System' %}</h2>
<div class="grid">
  <div class="status-card">
    <div class="title">Local Time</div>
    <div class="value">{{ device_data.general.local_time }}</div>
  </div>
  <div class="status-card">
    <div class="title">Uptime</div>
    {{ device_data.general.uptime }}
  </div>
  <div class="status-card">
    <div class="title">Hostname</div>
    <div class="value">{{ device_data.general.hostname }}</div>
  </div>
   <div class="status-card">
    <div class="title">SLA %</div>
    <div class="value">
       {% with uptime=device_data.availability.uptime_percent %}
          {% if uptime %}
            <div class="uptime-card">
              {% for label, value in uptime.items %}
                <div class="uptime-item">
                  <div class="uptime-label">{{ label }}</div>
                  <div class="uptime-value">{{ value }}%</div>
                </div>
              {% endfor %}
            </div>
          {% else %}
            <span class="muted">{% trans "No availability data." %}</span>
          {% endif %}
        {% endwith %}
  
    </div>
  </div>
</div>

<h2>{% trans 'CPU' %}</h2>
<div class="grid">
  <div class="status-card">
    <div class="title">Load average:</div>
    <div class="value">{{ device_data.resources.load|join:", &nbsp;" }}</div>
  </div>
  <div class="status-card">
    <div class="title">Cores:</div>
    <div class="value">{{ device_data.resources.cpus }}</div>
  </div>
</div>

<h2>{% trans 'RAM Status' %}</h2>
<div class="grid">
  <div class="status-card">
    <div class="title">Total:</div>
    <div class="value">
      {{ device_data.resources.memory.total|filesizeformat }}
    </div>
  </div>
  <div class="status-card">
    <div class="title">Free:</div>
    <div class="value">
      {{ device_data.resources.memory.free|filesizeformat }}
    </div>
  </div>
  <div class="status-card">
    <div class="title">Available:</div>
    <div class="value">
      {{ device_data.resources.memory.available|filesizeformat }}
    </div>
  </div>
  <div class="status-card">
    <div class="title">Buffered:</div>
    <div class="value">
      {{ device_data.resources.memory.buffered|filesizeformat }}
    </div>
  </div>
  <div class="status-card">
    <div class="title">Shared:</div>
    <div class="value">
      {{ device_data.resources.memory.shared|filesizeformat }}
    </div>
  </div>
</div>

<div class="inline-related">
  <fieldset class="module aligned">
    {% if device_data.resources %} {% if device_data.resources.disk %}
    <h2>{% trans 'Storage' %}</h2>
    <table class="disk">
      <thead>
        <tr>
          <th class="filesystem">{% trans 'Filesystem' %}</th>
          <th class="used_bytes">{% trans 'Used space' %}</th>
          <th class="available_bytes">{% trans 'Available space' %}</th>
          <th class="size_bytes">{% trans 'Total space' %}</th>
          <th class="used_percent">{% trans 'Percent Used' %}</th>
          <th class="mount_point">{% trans 'Mounted on' %}</th>
        </tr>
      </thead>
      <tbody>
        {% for disk in device_data.resources.disk %}
        <tr>
          <td class="filesystem">{{ disk.filesystem }}</td>
          <td class="used_bytes">{{ disk.used_bytes|filesizeformat }}</td>
          <td class="available_bytes">
            {{ disk.available_bytes|filesizeformat }}
          </td>
          <td class="size_bytes">{{ disk.size_bytes|filesizeformat }}</td>
          <td class="used_percent">{{ disk.used_percent }}%</td>
          <td class="mount_point">{{ disk.mount_point }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% endif %} {% endif %} {% if device_data.neighbors %}
    <h2>{% trans 'Neighbors' %}</h2>
    <table class="neighbors">
      <thead>
        <tr>
          <th class="ip">{% trans 'IP Address' %}</th>
          <th class="mac">{% trans 'MAC Address' %}</th>
          {% if MAC_VENDOR_DETECTION %}
          <th class="vendor">{% trans 'Vendor' %}</th>
          {% endif %}
          <th class="if">{% trans 'Interface' %}</th>
          <th class="state">{% trans 'State' %}</th>
        </tr>
      </thead>
      <tbody>
        {% for neighbor in device_data.neighbors %}
        <tr>
          <td class="ip">{{ neighbor.ip }}</td>
          <td class="mac">{{ neighbor.mac }}</td>
          {% if MAC_VENDOR_DETECTION %}
          <td class="vendor">{{ neighbor.vendor }}</td>
          {% endif %}
          <td class="if">{{ neighbor.interface }}</td>
          <td class="state">{{ neighbor.state }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% endif %}
  </fieldset>
</div>
